from datetime import datetime
from travel.models import ScheduledDeparture

SCHEDULE = """4:56A 11:25A 6:12P 5:30A 1:10P 8:50P 5:30A 1:10P 8:50P
5:03A 11:35A 6:20P 5:40A 1:20P 9:00P 5:40A 1:20P 9:00P
5:25A 11:45A 6:27P-E 5:50A 1:30P 9:10P 5:50A 1:30P 9:10P
5:34A 11:55A 6:35P 6:00A 1:40P 9:20P 6:00A 1:40P 9:20P
5:40A 12:05P 6:40P 6:10A 1:50P 9:30P 6:10A 1:50P 9:30P
5:48A 12:15P 6:50P 6:20A 2:00P 9:40P 6:20A 2:00P 9:40P
5:55A 12:25P 7:00P 6:30A 2:10P 9:50P 6:30A 2:10P 9:50P
6:03A 12:35P 7:10P 6:40A 2:20P 10:00P 6:40A 2:20P 10:00P
6:10A 12:45P 7:20P 6:50A 2:30P 10:10P 6:50A 2:30P 10:10P
6:18A 12:55P 7:25P-E 7:00A 2:40P 10:20P 7:00A 2:40P 10:20P
6:25A 1:05P 7:30P 7:10A 2:50P 10:30P 7:10A 2:50P 10:30P
6:33A 1:15P 7:40P 7:20A 3:00P 10:40P 7:20A 3:00P 10:40P
6:40A 1:25P 7:50P 7:30A 3:10P 10:50P 7:30A 3:10P 10:50P
6:48A 1:35P 8:00P 7:40A 3:20P 11:00P 7:40A 3:20P 11:00P
6:55A 1:45P 8:10P 7:50A 3:30P 11:10P 7:50A 3:30P 11:10P
7:03A 1:55P 8:20P 8:00A 3:40P 11:20P 8:00A 3:40P 11:20P
7:10A 2:05P 8:30P 8:10A 3:50P 11:30P 8:10A 3:50P 11:30P
7:18A 2:15P 8:40P 8:20A 4:00P 11:40P 8:20A 4:00P 11:40P
7:25A 2:25P 8:50P 8:30A 4:10P 11:45P-E 8:30A 4:10P 11:45P-E
7:33A 2:35P 9:00P 8:40A 4:20P 12:00A 8:40A 4:20P 12:00A
7:40A 2:45P 9:10P 8:50A 4:30P 12:15A 8:50A 4:30P 12:15A
7:48A 2:55P 9:20P 9:00A 4:40P 12:30A 9:00A 4:40P 12:30A
7:55A 3:10P 9:30P 9:10A 4:50P 12:35A-C 9:10A 4:50P 12:35A-C
8:03A 3:15P 9:40P 9:20A 5:00P 12:43A-C 9:20A 5:00P 12:43A-C
8:10A 3:25P 9:50P 9:30A 5:10P 1:00A-C 9:30A 5:10P 1:00A-C
8:18A 3:35P 10:00P 9:40A 5:20P 1:13A-C 9:40A 5:20P 1:13A-C
8:25A 3:42P 10:10P 9:50A 5:30P 9:50A 5:30P
8:33A 3:50P 10:20P 10:00A 5:40P 10:00A 5:40P
8:40A 3:57P 10:30P 10:10A 5:50P 10:10A 5:50P
8:48A 4:05P 10:40P 10:20A 6:00P 10:20A 6:00P
8:55A 4:12P 10:50P 10:30A 6:10P 10:30A 6:10P
9:03A 4:20P 11:00P 10:40A 6:20P 10:40A 6:20P
9:15A 4:27P 11:10P 10:50A 6:30P 10:50A 6:30P
9:25A 4:35P 11:20P 11:00A 6:40P 11:00A 6:40P
9:30A-E 4:42P 11:30P 11:10A 6:50P 11:10A 6:50P
9:35A 4:50P 11:40P 11:20A 7:00P 11:20A 7:00P
9:45A 4:57P 11:45P-E 11:30A 7:10P 11:30A 7:10P
9:55A 5:05P 12:00A 11:40A 7:20P 11:40A 7:20P
10:05A 5:12P 12:15A 11:50A 7:30P 11:50A 7:30P
10:15A 5:20P 12:30A 12:00P 7:40P 12:00P 7:40P
10:25A 5:27P 12:35A-C 12:10P 7:50P 12:10P 7:50P
10:35A 5:35P 12:43A-C 12:20P 8:00P 12:20P 8:00P
10:45A 5:42P 1:00A-C 12:30P 8:10P 12:30P 8:10P
10:55A 5:50P 1:13A-C 12:40P 8:20P 12:40P 8:20P
11:05A 5:57P
11:15A 6:05P"""

def store(value):
    if 'P' in value:
        v = '%sPM' % (value[0:value.index('P')])
    elif 'A' in value:
        v = '%sAM' % (value[0:value.index('A')])

    #v = value.replace('A', 'AM').replace('P', 'PM')    
    time = datetime.strptime(v,'%I:%M%p').time()
    print v, time
    ScheduledDeparture.objects.create(time=time)

def run():
    for line in [line.split() for line in SCHEDULE.split('\n')]:
        store(line[0])
        store(line[1])
